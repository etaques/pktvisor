# pktvisor Taps

Taps are named, host specific connections to raw stream data accessed by pktvisord. They represent configuration data
only; they do not cause any processing to take place in pktvisord. They should be referenced by Collection Policies by
name (see below).

Taps may be configured on the command line at agent start up (often using a configuration management system) either
directly in pktvisord (via command line or admin API) when running stand alone, or indirectly via orb-agent. See Command
Line Examples below.

`taps.yaml`

```yaml
version: "1.0"

visor:
  # each tap has input module specific configuration options
  taps:
    # a pcap tap which uses eth0 and is referenced by the identifier "anycast"
    anycast:
      type: pcap
      config:
        iface: eth0
    # an sflow tap which listens on the given IP and port, referenced by the identifier "pop_switch"
    pop_switch:
      type: sflow
      config:
        port: 6343
        bind: 192.168.1.1
    # a dnstap tap which gets its stream from the given socket, named "trex_tap"
    trex_tap:
      type: dnstap
      config:
        socket: /var/dns.sock
```

## Standalone Command Line Example

```shell
$ pktvisord --config taps.yaml
```

The admin-api (or prometheus output, pktvisor-cli, etc) should then be used to collect the results manually.

